<template>
  <div class="about-body">
    <div class="big-title">ABOUT ME</div>
    <div class="top-box">
      <div class="left-box">
        <div class="item">*</div>
        <div class="img-box">
          <img src="../../assets/img/contact/me.webp" alt="" srcset="" />
        </div>
      </div>

      <div class="right-box">
        <div class="name">æ±ŸèªçŠ</div>
        <div class="intro">
          ä½ å¥½ï¼Œæˆ‘æ˜¯ä¸€åå‰ç«¯å·¥ç¨‹å¸«ï¼Œç†±æƒ…é–‹æœ—ï¼Œå–œæ­¡VUEä¹Ÿå–œæ­¡GSAPï¼Œæ“…é•·èˆ‡åœ˜éšŠæˆå“¡æºé€šå”ä½œï¼Œå…±åŒè§£æ±ºå•é¡Œä¸¦å‰µé€ å„ªè³ªçš„ç”¢å“ã€‚å·¥ä½œå’Œç”Ÿæ´»ä¸­éƒ½æ„›å˜—è©¦æ–°äº‹ç‰©ï¼Œä¸æ–·å­¸ç¿’æˆé•·ã€‚
        </div>

        <div class="skills-box">
          <div class="skills">æŠ€èƒ½ğŸ’«</div>
          <ul>
            <li>Vue / Angular</li>
            <li>JavaScript / TypeScript</li>
            <li>HTML / CSS / SCSS / RWD</li>
            <li>GSAPå‹•æ…‹æ•ˆæœ</li>
          </ul>
        </div>

        <svg
          class="arrow"
          width="64"
          height="64"
          viewBox="0 0 64 64"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M32 12V52"
            stroke="#577084"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M16 36L32 52L48 36"
            stroke="#577084"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
    </div>

    <div class="bottom-box">
      <div class="title">My Story</div>
      <div class="personal-statement">
        åœ¨éå»çš„é–‹ç™¼ç¶“é©—ä¸­ï¼Œèƒ½å¤ ç¨ç«‹å®Œæˆæ•´é«”å°ˆæ¡ˆï¼Œä½¿ç”¨<span>Angular</span>å’Œ<span>VUE3</span>ä½œç‚ºä¸»è¦æ¡†æ¶ï¼Œä¸¦é‹ç”¨<span>GSAP</span>åšå‡ºå‹•æ…‹æ•ˆæœï¼Œ
        å¾UI/UXè¨­è¨ˆã€ç¶²ç«™æ¶æ§‹è¦åŠƒï¼Œåˆ°å‰ç«¯é–‹ç™¼éƒ½èƒ½å…¨ç¨‹åƒèˆ‡ä¸¦é †åˆ©åŸ·è¡Œï¼Œ
        ä¹Ÿç¶“å¸¸èˆ‡å¾Œç«¯å·¥ç¨‹å¸«å¯†åˆ‡é…åˆé€²è¡Œè³‡æ–™ä¸²æ¥ã€‚æˆ‘æ“…é•·èˆ‡åŒäº‹æºé€šå”ä½œï¼Œé‡è¦–åœ˜éšŠåˆä½œï¼Œä¹Ÿæ¨‚æ–¼æå‡ºå»ºè­°ï¼Œå”åŠ©å„ªåŒ–æ•´é«”ä½¿ç”¨è€…é«”é©—èˆ‡é–‹ç™¼æµç¨‹ã€‚é™¤äº†å‰ç«¯æŠ€è¡“å¤–ï¼Œæˆ‘ä¹Ÿå…·å‚™ç¨ç«‹å®Œæˆå°ˆæ¡ˆã€å‹•ç•«æ•ˆæœè¨­è¨ˆåŠåŠŸèƒ½é–‹ç™¼çš„èƒ½åŠ›ï¼Œèƒ½æ ¹æ“šéœ€æ±‚æ‰“é€ ç¬¦åˆéœ€æ±‚çš„ç¶²ç«™ã€‚
        <br />æœªä¾†å¸Œæœ›èƒ½æŒçºŒç²¾é€²å‰ç«¯æŠ€è¡“ï¼Œåƒèˆ‡æ›´å¤šå…·æŒ‘æˆ°æ€§èˆ‡å½±éŸ¿åŠ›çš„å°ˆæ¡ˆï¼Œæ‰“é€ æ›´å‡ºè‰²çš„ä½œå“ã€‚
      </div>
    </div>

    <div class="email-box">
      <div class="title" @click="goContact">GET IN TOUCHï¼šï¼‰</div>
      <div class="email">m3m6owo@gmail.com</div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { onMounted } from 'vue'
import { useRouter } from 'vue-router'
import gsap from 'gsap'
import { ScrollTrigger } from 'gsap/ScrollTrigger'
import { SplitText } from 'gsap/SplitText'
gsap.registerPlugin(SplitText, ScrollTrigger)
import '@/assets/scss/about/_about-view.scss'
const window_width = window.innerWidth

const router = useRouter()
const goContact = () => {
  router.push('/contact')
}

const titleAni = () => {
  const title = document.querySelectorAll('.big-title')
  const splittitle = new SplitText(title, { type: 'chars' })
  const tl = gsap.timeline({})

  tl.from(splittitle.chars, {
    y: gsap.utils.wrap([70, 70]),
    filter: 'blur(5px)',
    opacity: 0,
    duration: 1,
    ease: 'power1.Out',
    stagger: { each: 0.08 },
  })
    .from(
      '.about-body .top-box .right-box .name,.about-body .top-box .right-box .intro',
      {
        y: 70,
        opacity: 0,
        duration: 1,
        stagger: { each: 0.2 },
      },
      '<0.3',
    )
    .from(
      '.skills,ul',
      {
        y: 70,
        opacity: 0,
        duration: 1,
        stagger: { each: 0.2 },
      },
      '<0.35',
    )
}

const imgAni = () => {
  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: '.about-body .top-box .left-box',
      start: '-10% center',
    },
  })

  tl.from('.about-body .top-box .left-box .img-box', {
    y: 70,
    duration: 1,
    opacity: 0,
  }).from(
    '.about-body .top-box .left-box .item',
    {
      y: 100,
      duration: 1,
      opacity: 0,
    },
    '<0.3',
  )
}

const contentAni = () => {
  const smalltitle = document.querySelectorAll('.about-body .bottom-box .title')
  const splitsmalltitle = new SplitText(smalltitle, { type: 'chars' })
  const emailtitle = document.querySelectorAll('.about-body .email-box .title')
  const splitemailtitle = new SplitText(emailtitle, { type: 'chars' })
  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: '.about-body .bottom-box',
      start: '-10% center',
    },
  })

  tl.from(splitsmalltitle.chars, {
    y: gsap.utils.wrap([70, 70]),
    filter: 'blur(5px)',
    opacity: 0,
    duration: 1,
    ease: 'power1.Out',
    stagger: { each: 0.08 },
  })
    .from(
      '.personal-statement',
      {
        y: 70,
        opacity: 0,
        duration: 1,
      },
      '<0.3',
    )
    .from(
      splitemailtitle.chars,
      {
        y: gsap.utils.wrap([-70, 70]),
        scale: 2,
        filter: 'blur(5px)',
        opacity: 0,
        duration: 1,
        ease: 'power1.Out',
        stagger: { each: 0.08, from: 'center' },
      },
      '<0.5',
    )
    .from(
      '.about-body .email-box .email',
      {
        y: 70,
        opacity: 0,
        duration: 1,
      },
      '<0.8',
    )
}

const emailAni = () => {
  const emailtitle = document.querySelectorAll('.about-body .email-box .title')
  const splitemailtitle = new SplitText(emailtitle, { type: 'chars' })
  if (window_width <= 1024) {
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: '.about-body .bottom-box',
        start: '20% center',
      },
    })
    tl.from(splitemailtitle.chars, {
      y: gsap.utils.wrap([-70, 70]),
      scale: 2,
      filter: 'blur(5px)',
      opacity: 0,
      duration: 1,
      ease: 'power1.Out',
      stagger: { each: 0.08, from: 'center' },
    }).from(
      '.about-body .email-box .email',
      {
        y: 70,
        opacity: 0,
        duration: 1,
      },
      '<0.3',
    )
  } else {
  }
}

onMounted(() => {
  titleAni()
  imgAni()
  contentAni()
  emailAni()
})
</script>

<style scoped lang="scss"></style>
